#!/bin/bash

USER_EMAIL=$1
USER_PASSWORD=$2
LOWER_LEFT_LATITUDE=$3
UPPER_RIGHT_LATITUDE=$4
LOWER_LEFT_LONGITUDE=$5
UPPER_RIGHT_LONGITUDE=$6
PROCESSING_INIT_DATE=$7
PROCESSING_FINAL_DATE=$8
INPUTDOWNLOADING_TAG=$9
PREPROCESSING_TAG=$10
PROCESSING_TAG=$11
DISPATCHER_IP_ADDRESS=$12

PORT=8091
TASK_PRIORITY=0

curl --request POST 'http://<$dispatcher_address>:8091/processings' --header 'Content-Type: text/plain'  --data-raw 'userEmail=$USER_EMAIL&userPass=$USER_PASSWORD&lowerLeft=[$LOWER_LEFT_LATITUDE, $LOWER_LEFT_LONGITUDE]&upperRight=[$UPPER_RIGHT_LATITUDE, $UPPER_RIGHT_LONGITUDE]&initialDate=$PROCESSING_INIT_DATE&finalDate=$PROCESSING_FINAL_DATE&inputGatheringTag=$INPUTDOWNLOADING_TAG&inputPreprocessingTag=$PROCESSING_TAG&algorithmExecutionTag=$PROCESSING_TAG&email=USER_EMAIL&priority=$TASK_PRIORITY'